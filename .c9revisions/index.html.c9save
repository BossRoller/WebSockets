{"ts":1342580936006,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<html>\r\n<head>\r\n\r\n<title>Shanker's Websocket Test</title>\r\n\r\n<script src=\"/socket.io/socket.io.js\"></script>\r\n\r\n<script>\r\n\r\nonerror = function (msg) {log(msg);}\r\n\r\nfunction log(msg) {\r\n    document.getElementById('log').appendChild(document.createTextNode(new Date() + ' ' + msg + '\\n'));\r\n}\r\n\r\nfunction status(msg) {\r\n    log(msg);\r\n    document.getElementById('status').textContent = msg;\r\n}\r\n\r\nfunction clearLog() {\r\n    var e = document.getElementById('log');\r\n    while (e.hasChildNodes()) {\r\n        e.removeChild(e.firstChild);\r\n    }\r\n    e.appendChild(document.createTextNode('Log: \\n'));\r\n}\r\n\r\n</script>\r\n\r\n<script>\r\n\r\nvar socket = null;\r\n\r\nfunction connect() {\r\n    log('Connecting to local server...');\r\n    if (socket == null) {\r\n        socket = io.connect(null,{'auto connect': false});\r\n        socket.on('connect', function () {\r\n            status('Connected');\r\n        });\r\n\r\n        socket.on('message', function (data) {\r\n            log(data);\r\n        });\r\n    }\r\n    socket.socket.connect();\r\n}\r\n\r\nfunction send() {\r\n    if (socket && socket.socket.connected) {\r\n        socket.send(document.getElementById('text').value);\r\n        log('>' + document.getElementById('text').value);\r\n    } else {\r\n        log('Not connected.');\r\n    }\r\n}\r\n\r\nfunction send100() {\r\n    if (socket && socket.socket.connected) {\r\n        for (var i = 0; i < 100; i += 1) {\r\n            socket.send('test'+ i);\r\n            log('> test' + i);\r\n        }\r\n    } else {\r\n        log('Not connected.');\r\n    }\r\n}\r\n\r\nfunction update() {\r\n    if (socket && socket.socket && socket.socket.transport) {\r\n        document.getElementById('sessionId').textContent = socket.socket.transport.sessid;\r\n        document.getElementById('transport').textContent = socket.socket.transport.name;\r\n    } else {\r\n        document.getElementById('sessionId').textContent = '-';\r\n        document.getElementById('transport').textContent = '-';\r\n    }\r\n}\r\n\r\nsetInterval(update, 10);\r\n\r\n</script>\r\n\r\n</head>\r\n\r\n<body onload=\"connect()\">\r\n\r\n<p><label style='width:200px;float:left'>Status: <span id=\"status\">Idle</span></label></p>\r\n<p>SessionId: <span id=\"sessionId\">-</span></p>\r\n<p>Transport: <span id=\"transport\">-</span></p>\r\n\r\n<p><label>Message: <input id=\"text\" type=\"text\" size=\"80\" value=\"\"/></label><input type=button value=\"Echo\" onclick=\"send()\"></p>\r\n\r\n<p><input type=button value=\"Spam 100 packets\" onclick=\"send100()\" /><input type=button value=\"Clear log\" onclick=\"clearLog()\" /></p>\r\n\r\n<pre id=\"log\">Log:</pre>\r\n\r\n</body>\r\n\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":2527}]],"length":2527}
{"contributors":[],"silentsave":false,"ts":1342581069266,"patch":[[{"diffs":[[0,"tml>"],[-1,"\r"],[0,"\n"],[1,"  "],[0,"<head>"],[-1,"\r\n\r\n<title>Shanker's Websocket Test</title>\r\n\r\n<script src=\"/socket.io/socket.io.js\"></script>\r\n\r\n<script>\r\n\r\nonerror = function (msg) {log(msg);}\r\n\r\nfunction log(msg) {\r\n    document.getElementById('log').appendChild(document.createTextNode(new Date() + ' ' + msg + '\\n'));\r\n}\r\n\r\nfunction status(msg) {\r\n    log(msg);\r\n    document.getElementById('status').textContent = msg;\r\n}\r\n\r\nfunction clearLog() {\r\n    var e = document.getElementById('log');\r\n    while (e.hasChildNodes()) {\r\n        e.removeChild(e.firstChild);\r"],[1,"\n    <link rel=\"stylesheet\" href=\"style.css\" type=\"text/css\"/>\n    <script src=\"jquery-1.2.6.min.js\" type=\"text/javascript\"></script>\n    <script src=\"client.js\" type=\"text/javascript\"></script>\n    <title>node chat</title>\n  </head>\n  <body>\n<form>\n    <input id=\"wordinput\" type=\"text\" onkeyup=\"go();\" />\n</form>\n<div id=\"result\"></div>\n<script type=\"text/javascript\">\n    var input=document.getElementById('wordinput');\n    var output=document.getElementById('result');\n    \n    //@source Adapted from http://bytes.com/topic/php/answers/776663-generating-permutations-combinations\n    function combine(phrase) {\n        //var phrase=\"A B C D E\";\n        var words=phrase.split(' ');\n        var c=words.length;"],[0,"\n    "],[-1,"}\r\n"],[0,"    "],[-1,"e.appendChild(document.createTextNode('Log: \\n'));\r\n}\r\n\r\n</script>\r\n\r\n<script>\r\n\r\nvar socket = null;\r\n\r\nfunction connect("],[1,"var out=new Array();\n        for (var i=1;i<c;i++"],[0,") {"],[-1,"\r"],[0,"\n    "],[-1,"log('Connecting to local server...');\r\n    if (socket == null"],[1,"      if (i===1"],[0,") {"],[-1,"\r"],[0,"\n   "]],"start1":2,"start2":2,"length1":744,"length2":814},{"diffs":[[0,"    "],[-1,"socket = io.connect(null,{'auto connect': false});\r\n        socket.on('connect', function () {\r\n            status('Connected');\r\n        });\r\n\r\n        socket.on('message', function (data"],[1,"    for(var w in words) {\n              out[i] = new Array();\n              out[i].push(w); \n            }\n          }\n          else {\n            for (var j=0;j<c;j++"],[0,") {"],[-1,"\r"],[0,"\n   "]],"start1":817,"start2":817,"length1":200,"length2":179},{"diffs":[[0,"    "],[-1,"log(data"],[1,"  var z=new Array("],[0,");"],[-1,"\r"],[0,"\n   "]],"start1":1001,"start2":1001,"length1":19,"length2":28},{"diffs":[[0,"    "],[-1,"});\r\n    }\r\n    socket.socket.connect();\r\n}\r\n\r\nfunction send("],[1,"      for (var k=1;k<=i;k++) {\n                z[k]=j+k-1;\n                if (z[k]>=c"],[0,") {"],[-1,"\r"],[0,"\n    "],[-1,"if (socket && socket.socket.connected) {\r\n        socket.send(document.getElementById('text').value);\r\n        log('>' + document.getElementById('text').value);\r\n    } else {\r\n        log('Not connected.');\r\n    }\r\n}\r\n\r\nfunction send100("],[1,"              z[k]-=c;\n                }\n              }\n              temp=NULL;\n              for (var index in z) {\n                temp += words[index]+' ';\n              }\n              out[i](rtrim(ltrim(temp)));\n            }\n            if ((c-i)>1) {\n              for (j=0;j<c;j++"],[0,") {"],[-1,"\r"],[0,"\n    "],[-1,"if (socket && socket.socket.connected) {\r\n        for (var i = 0; i < 100; i += 1"],[1,"            z=new Array();\n                s=0;\n                for (k=1;k<=i;k++"],[0,") {"],[-1,"\r"],[0,"\n   "]],"start1":1030,"start2":1030,"length1":409,"length2":484},{"diffs":[[0,"    "],[-1,"socket.send('test'+ i);\r\n            log('> test' + i);\r\n        }\r\n    } else {\r\n        log('Not connected.');\r\n    }\r\n}\r\n\r\nfunction update() {\r\n    if (socket && socket.socket && socket.socket.transport"],[1,"      z[k]=j+k-1+s;\n                  if (z[k]>=c) {\n                    z[k]-=c;\n                  }\n                  s++;\n                }\n                temp=NULL;\n                for(var index in z"],[0,") {"],[-1,"\r"],[0,"\n"],[1," "],[0,"        "],[-1,"document.getElementById('sessionId').textContent = socket.socket.transport.sessid;\r\n        document.getElementById('transport').textContent = socket.socket.transport.name;\r\n    } else {\r"],[1,"         temp += words[index]+' ';\n                }\n                \n                out[i] = new Array();\n                out[i].push(trim(temp));\n              }\n            }\n          }\n        }\n        return out.join(',');\n    }"],[0,"\n    "],[1,"\n"],[0,"    "],[-1,"document.getElementById('sessionId').textContent = '-';\r\n        document.getElementById('transport').textContent = '-';\r\n    }\r\n}\r\n\r\nsetInterval(update, 10);\r\n\r\n</script>\r\n\r\n</head>\r\n\r\n<body onload=\"connect()\">\r\n\r\n<p><label style='width:200px;float:left'>Status: <span id=\"status\">Idle</span></label></p>\r\n<p>SessionId: <span id=\"sessionId\">-</span></p>\r\n<p>Transport: <span id=\"transport\">-</span></p>\r\n\r\n<p><label>Message: <input id=\"text\" type=\"text\" size=\"80\" value=\"\"/></label><input type=button value=\"Echo\" onclick=\"send()\"></p>\r\n\r\n<p><input type=button value=\"Spam 100 packets\" onclick=\"send100()\" /><input type=button value=\"Clear log\" onclick=\"clearLog()\" /></p>\r\n\r\n<pre id=\"log\">Log:</pre>\r\n\r\n"],[1,"function printout(str) {\n        output.innerHTML += str+\"<br />\\n\";\n        //console.log(str);\n    }\n    \n    function debug(str) {\n        output(combine(new Array(), new Array(), str.value.split(',')));\n    }\n    \n    function go() {\n        if(input.value.charAt(input.value.length-1)==' ') {\n            return false;\n        }\n        printout(combine(input.value));\n    }\n</script>\n  "],[0,"</body>"],[-1,"\r\n\r"],[0,"\n</html>"],[1,"\n"]],"start1":1519,"start2":1519,"length1":1141,"length2":875}]],"length":2394,"saved":false}
